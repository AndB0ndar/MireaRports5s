\Chapter{ПРОЕКТИРОВАНИЕ МОБИЛЬНОГО ПРИЛОЖЕНИЯ}

\Section{Функциональная схема приложения}

Для обеспечения эффективного управления очередями в учебных заведениях мобильное приложение "Очередь" должно включать следующие основные функциональные компоненты:

\begin{enumerate}
	\item \textbf{Создание очереди:} Преподаватели или администраторы
		имеют возможность создавать новые очереди, определяя параметры,
		такие как время работы и максимальное количество студентов в очереди.
	\item \textbf{Удаление собственной очереди:} Пользователи могут удалить
		свою созданную очередь по необходимости.
	\item \textbf{Подключение к очереди:} Студенты могут подключиться
		к уже существующей очереди, выбрав ее из списка доступных.
	\item \textbf{Добавление в очередь:} Студенты могут добавить себя
		в выбранную очередь, указав доступное время
		и оставив контактные данные.
	\item \textbf{Удаление из очереди:} Студенты могут удалить себя из очереди,
		если у них изменились планы или они больше не нуждаются в этом.
\end{enumerate}

\Section{Архитектура приложения}

Архитектура мобильного приложения "Очередь" включает следующие слои:

\begin{itemize}
    \item \textbf{Пользовательский интерфейс (UI):} Слой отвечает
		за отображение информации и взаимодействие с пользователем.
		Включает экраны для создания очередей, подключения к ним,
		мониторинга статуса и получения уведомлений.
    \item \textbf{Логика приложения:} Слой обрабатывает пользовательские
		запросы и выполняет бизнес-логику, такую как проверка условий
		для добавления в очередь, отправка уведомлений и т.д.
    \item \textbf{Серверное взаимодействие:} Слой отвечает за взаимодействие
		с серверной частью, реализованной на Ktor.
		Обеспечивает обмен данными между мобильным приложением и сервером.
    \item \textbf{Доступ к данным:} Слой отвечает за доступ к данным,
		хранящимся в базе данных PostgreSQL.
		Обеспечивает выполнение CRUD операций
		(создание, чтение, обновление, удаление данных).
\end{itemize}

Таким образом, проектирование мобильного приложения "Очередь" направлено
на создание удобного и функционального инструмента для управления очередями,
который удовлетворяет потребности как преподавателей, так и студентов.

\Section{Проектирование пользовательского интерфейса}\label{sc:designing:ui}

Приложение "Очередь" включает следующие основные окна:

\begin{enumerate}
    \item \textbf{Окно входа:} Это окно предоставляет возможность
		пользователям войти в свою учетную запись, вводя свой логин и пароль.
    \item \textbf{Окно регистрации:} В этом окне новые пользователи могут
		зарегистрироваться, указав свои персональные данные
		и создав учетную запись.
    \item \textbf{Домашнее окно со списком очередей пользователя:}
		Это главное окно приложения, где пользователь видит список доступных
		для него очередей. Каждая очередь представлена в виде карточки
		с информацией о ней, такой как название,
		время работы и текущее количество участников.
    \item \textbf{Окно профиля:} Это окно отображает персональную информацию
		пользователя, такую как имя,
		адрес электронной почты и другие настройки.
    \item \textbf{Окно добавления очереди:} Это окно позволяет пользователям
		создавать новые очереди, устанавливая параметры,
		такие как название, время работы и максимальное количество участников.
    \item \textbf{Окно очереди со списком пользователей в очереди:}
		Это окно отображает список пользователей, находящихся
		в выбранной очереди. Каждый пользователь представлен в виде карточки
		с его информацией.
\end{enumerate}

Каждое из этих окон разработано с учетом принципов удобства использования
и современного дизайна, чтобы обеспечить удобство и интуитивную навигацию
для пользователей.\par
Для полноценной разработки макетов и их детального отображения,
можно использовать Figma, чтобы создать интерактивные прототипы
с реальными элементами и возможностями взаимодействия.\par
Для каждого из этих окон мы можем создать макеты в Figma,
чтобы визуализировать дизайн (Рисунок~\ref{fig:figma}).

\begin{image}
	\includegrph{figma}
	\caption{Разработанный дизайн приложения в Figma}
	\label{fig:figma}
\end{image}

\Section{Логическая модель приложения}

Логическая модель приложения "Очередь" представляет собой описание основных
сущностей и их взаимосвязей, отраженных в структуре таблиц базы данных.

\Subsection{Сущности}

Приложение включает следующие основные сущности:

\begin{enumerate}
    \item \textbf{Пользователь (UserAuth):} Содержит информацию
		о зарегистрированных пользователях, включая их идентификатор,
		логин, имя, фамилию, идентификатор группы,
		хэш пароля и токен аутентификации.
    \item \textbf{Соединения (Connections):} Связывает пользователей
		с очередями, храня их идентификаторы идентификаторы пользователя
		и очереди.
    \item \textbf{Группы (Groups):} Содержит информацию
		о группах пользователей, такую как название группы, суффикс,
		название единицы и курс.
    \item \textbf{Элемент очереди (QueueItem):} Связывает пользователей
		с определенной позицией в очереди, храня их идентификаторы,
		идентификатор очереди и позицию.
    \item \textbf{Очереди (Queues):} Содержит информацию о созданных очередях,
		включая их идентификатор, название, создателя, идентификатор группы,
		описание и другие данные.
\end{enumerate}

\Subsection{Отношения}

Логическая модель описывает следующие основные отношения между сущностями:

\begin{itemize}
    \item \textbf{Одно-ко-многим (One-to-Many):}
		Один пользователь может быть связан
		с несколькими соединениями (Connections).
		Одна группа может содержать несколько пользователей (UserAuth).
    \item \textbf{Многие-ко-многим (Many-to-Many):}
		Множество пользователей может быть связано
		с несколькими соединениями (Connections).
		Множество пользователей может быть связано
		с несколькими элементами очереди (QueueItem).
\end{itemize}

\Subsection{Атрибуты}

Каждая сущность имеет свои атрибуты,
которые описывают их характеристики и свойства.

\begin{itemize}
    \item \textbf{UserAuth:} id, login, firstname, lastname, group\_id,
		password\_hash, token.
    \item \textbf{Connections:} id, user\_id, queue\_id.
    \item \textbf{Groups:} id, group\_name, group\_suffix
		, unit\_name, unit\_course.
    \item \textbf{QueueItem:} id, queue\_id, user\_id, position.
    \item \textbf{Queues:} id, queue\_name, creator, group, description.
\end{itemize}

Логическая модель приложения "Очередь" служит основой для проектировния
физической структуры базы данных и реализации бизнес-логики приложения.

